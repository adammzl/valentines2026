<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Surprise</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  background:#fff0f5;
  overflow:hidden;
  font-family:'Poppins', sans-serif;
}

/* VIDEO SECTION */
#videoSection {
  position:fixed;
  width:100%;
  height:100vh;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:opacity 1.5s ease;
  z-index:10;
}

#introVideo {
  width:100%;
  height:100%;
  object-fit:cover;
  display:none;
}

#startBtn {
  padding:18px 45px;
  background:#ff69b4;
  color:white;
  border:none;
  border-radius:50px;
  font-size:18px;
  cursor:pointer;
  transition:all 0.4s cubic-bezier(.22,1,.36,1);
}

#startBtn:hover {
  background:#ff1493;
  transform:scale(1.08);
}

/* LETTER SECTION */
#letterSection {
  position:fixed;
  width:100%;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  transition:opacity 2s ease;
  perspective:1200px;
}

#letterSection.show { opacity:1; }

.letter {
  width:420px;
  height:260px;
  background:linear-gradient(145deg,#fffafc,#ffe6f0);
  border-radius:16px;
  box-shadow:0 30px 60px rgba(255,105,180,0.25);
  transform-origin:top;
  transform:rotateX(-90deg);
  transition:transform 2s cubic-bezier(.22,1,.36,1);
  padding:50px;
  text-align:center;
}

.letter.open { transform:rotateX(0); }

.valentine-text {
  font-family:'Playfair Display', serif;
  font-size:28px;
  color:#5a3e4d;
  opacity:0;
  transition:opacity 1.5s ease 1.2s;
}

.valentine-text.show { opacity:1; }

.buttons {
  margin-top:30px;
  opacity:0;
  transition:opacity 1.5s ease 1.5s;
}

.buttons.show { opacity:1; }

button {
  padding:14px 30px;
  margin:10px;
  border:none;
  border-radius:40px;
  font-size:15px;
  cursor:pointer;
  transition:all 0.3s ease;
}

.yesBtn {
  background:#ff69b4;
  color:white;
}

.yesBtn:hover {
  background:#ff1493;
  transform:scale(1.05);
}

.noBtn {
  background:#ffb6c1;
  color:white;
  position:absolute;
  transition:all 0.3s ease;
}

/* Glow Background */
.glow {
  position:fixed;
  width:200px;
  height:200px;
  background:radial-gradient(circle, rgba(255,105,180,0.25) 0%, transparent 70%);
  border-radius:50%;
  animation:float 12s infinite ease-in-out alternate;
}

@keyframes float {
  from { transform:translateY(0px); }
  to { transform:translateY(-50px); }
}

/* FINAL OVERLAY */
#finalOverlay {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  z-index:9999;
}

#finalOverlay video {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  object-fit:cover;
  z-index:0;
}

#finalText {
  position:relative;
  z-index:1;
  font-family:'Playfair Display', serif;
  font-size:6vw;
  text-align:center;
  background:linear-gradient(90deg, #ff69b4, #ff1493, #ffc0cb);
  background-clip: text;
  -webkit-background-clip: text;
  color:transparent;
  animation: gradientShift 5s linear infinite, pulse 1.5s ease-in-out infinite;
}

@keyframes gradientShift {
  0% { background-position:0% 50%; }
  50% { background-position:100% 50%; }
  100% { background-position:0% 50%; }
}

@keyframes pulse {
  0%,100% { transform:scale(1); }
  50% { transform:scale(1.1); }
}

canvas {
  position:fixed;
  top:0;
  left:0;
  pointer-events:none;
}
</style>
</head>
<body>

<!-- CONFETTI / FIREWORK CANVAS -->
<canvas id="confetti"></canvas>

<!-- VIDEO START SECTION -->
<div id="videoSection">
  <button id="startBtn">Tap to Begin</button>
  <video id="introVideo" playsinline>
    <source src="yourvideo.mp4" type="video/mp4">
  </video>
</div>

<!-- LETTER SECTION -->
<div id="letterSection">
  <div class="letter" id="letter">
    <div class="valentine-text" id="valentineText">
      Mir'atun Solehah, Dunia saya, Rumah saya, Cinta saya, Will you be my valentine?
    </div>
    <div class="buttons" id="buttons">
      <button class="yesBtn" onclick="sayYes()">Yes</button>
      <button class="noBtn" id="noBtn">No</button>
    </div>
  </div>
</div>

<!-- AUDIO ELEMENTS -->
<audio id="bgMusic" src="music.mp3" loop></audio>
<audio id="hoverSound" src="hover.mp3"></audio>
<audio id="escapeSound" src="escape.mp3"></audio>
<audio id="yesSound" src="yes.mp3"></audio>
<audio id="fireworkSound" src="firework.mp3"></audio>
<audio id="finalSound" src="final.mp3"></audio>

<script>
/* ---------------- ELEMENTS ---------------- */
const video = document.getElementById("introVideo");
const startBtn = document.getElementById("startBtn");
const videoSection = document.getElementById("videoSection");
const letterSection = document.getElementById("letterSection");
const letter = document.getElementById("letter");
const text = document.getElementById("valentineText");
const buttons = document.getElementById("buttons");
const noBtn = document.getElementById("noBtn");

const bgMusic = document.getElementById("bgMusic");
const hoverSound = document.getElementById("hoverSound");
const escapeSound = document.getElementById("escapeSound");
const yesSound = document.getElementById("yesSound");
const fireworkSound = document.getElementById("fireworkSound");
const finalSound = document.getElementById("finalSound");

/* ---------------- START VIDEO ---------------- */
startBtn.onclick = () => {
  startBtn.style.display="none";
  video.style.display="block";
  video.play();
  bgMusic.volume=0.4;
  bgMusic.play();
};

/* ---------------- VIDEO END ---------------- */
video.onended = () => {
  videoSection.style.opacity="0";
  setTimeout(()=>{
    videoSection.style.display="none";
    letterSection.classList.add("show");
    setTimeout(()=>{
      letter.classList.add("open");
      text.classList.add("show");
      buttons.classList.add("show");
    },800);
  },1500);
};

/* ---------------- NO BUTTON ---------------- */
noBtn.style.position="absolute";
noBtn.style.left="55%";
noBtn.style.top="60%";

noBtn.addEventListener("mouseenter", ()=>{
  hoverSound.currentTime=0;
  hoverSound.play();

  const maxX = window.innerWidth - noBtn.offsetWidth - 20;
  const maxY = window.innerHeight - noBtn.offsetHeight - 20;

  const newX = Math.random()*maxX;
  const newY = Math.random()*maxY;

  escapeSound.currentTime=0;
  escapeSound.play();

  noBtn.style.transition="all 0.4s cubic-bezier(.22,1,.36,1)";
  noBtn.style.left=newX+"px";
  noBtn.style.top=newY+"px";
});

/* ---------------- FIREWORK / PARTICLE SYSTEM ---------------- */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let particles=[];
let animationRunning=false;

function createFirework(x=null,y=null){
  const fx = x || Math.random()*canvas.width;
  const fy = y || Math.random()*canvas.height/2;

  fireworkSound.currentTime=0;
  fireworkSound.play();

  for(let i=0;i<300;i++){
    particles.push({
      x:fx,
      y:fy,
      speedX:(Math.random()-0.5)*12,
      speedY:(Math.random()-0.5)*12,
      gravity:0.15,
      size:3+Math.random()*4,
      color:["#ff69b4","#ff1493","#ffc0cb","#ff85a2","#ff4d88"][Math.floor(Math.random()*5)],
      life:120
    });
  }
  if(!animationRunning){ animationRunning=true; animateFireworks(); }
}

function animateFireworks(){
  ctx.fillStyle="rgba(255,240,245,0.2)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  particles.forEach((p,index)=>{
    p.x+=p.speedX;
    p.y+=p.speedY;
    p.speedY+=p.gravity;
    p.life--;
    ctx.fillStyle=p.color;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fill();
    if(p.life<=0){ particles.splice(index,1); }
  });

  if(particles.length>0){ requestAnimationFrame(animateFireworks); } else { animationRunning=false; }
}

/* ---------------- ROMANTIC BACKGROUND SYMBOLS ---------------- */
function romanticBackground(){
  const themes=["üåπ","üíã","‚ù§Ô∏è","üå∏","üíñ"];
  for(let i=0;i<60;i++){
    const el=document.createElement("div");
    el.innerHTML=themes[Math.floor(Math.random()*themes.length)];
    el.style.position="fixed";
    el.style.fontSize=(20+Math.random()*40)+"px";
    el.style.left=Math.random()*100+"vw";
    el.style.top=Math.random()*100+"vh";
    el.style.opacity="0";
    el.style.transition="all 2s ease";
    document.body.appendChild(el);
    setTimeout(()=>{ el.style.opacity="1"; el.style.transform="scale(1.5)"; },100);
  }
}

/* ---------------- YES BUTTON SEQUENCE ---------------- */
function sayYes(){
  yesSound.currentTime=0; yesSound.play();

  letter.style.transition="all 1s cubic-bezier(.22,1,.36,1)";
  letter.style.transform="scale(1.3)";
  letter.style.opacity="0";

  // Fireworks explosions across screen
  for(let i=0;i<5;i++){ setTimeout(()=>createFirework(Math.random()*canvas.width, Math.random()*canvas.height/2), i*400); }

  // Romantic symbols
  romanticBackground();

  // Play final sound
  setTimeout(()=>{ finalSound.currentTime=0; finalSound.play(); },1000);

  // Show final overlay
  setTimeout(()=>{
    const finalOverlay=document.createElement("div");
    finalOverlay.id="finalOverlay";
    const videoEl=document.createElement("video");
    videoEl.id="finalBg";
    videoEl.autoplay=true; videoEl.loop=true; videoEl.muted=true; videoEl.playsInline=true;
    videoEl.src="romantic-bg.mp4"; // replace with your video
    finalOverlay.appendChild(videoEl);

    const h1=document.createElement("h1");
    h1.id="finalText"; h1.innerText="YEAYYYYY";
    finalOverlay.appendChild(h1);

    document.body.appendChild(finalOverlay);
  },2500);
}

/* ---------------- SOFT GLOW PARTICLES ---------------- */
for(let i=0;i<3;i++){
  let glow=document.createElement("div");
  glow.classList.add("glow");
  glow.style.left=Math.random()*80+"vw";
  glow.style.top=Math.random()*80+"vh";
  document.body.appendChild(glow);
}
</script>
</body>
</html>

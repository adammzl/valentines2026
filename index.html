<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VT2026</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { overflow:hidden; font-family:'Poppins', sans-serif; background:#fff; }

/* ---------------- VIDEO START ---------------- */
#videoSection { position:fixed; width:100%; height:100vh; background:black; display:flex; justify-content:center; align-items:center; transition:opacity 1.5s ease; z-index:10; }
#introVideo { width:100%; height:100%; object-fit:cover; display:none; }
#startBtn { padding:18px 45px; background:#ff69b4; color:white; border:none; border-radius:50px; font-size:18px; cursor:pointer; transition:all 0.4s cubic-bezier(.22,1,.36,1); }
#startBtn:hover { background:#ff1493; transform:scale(1.08); }

/* ---------------- LETTER PAGE ---------------- */
#letterSection {
  position:fixed; width:100%; height:100vh; display:flex; justify-content:center; align-items:center;
  opacity:0; transition:opacity 1.5s ease; perspective:1200px;
  background: linear-gradient(-45deg, #ffb6c1, #ff69b4, #ff1493, #ffc0cb);
  background-size: 400% 400%;
  animation: bgGradient 20s ease infinite;
  overflow:hidden;
}
@keyframes bgGradient {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
#letterSection.show { opacity:1; }

.letter {
  width:500px; min-height:320px; background:rgba(255,255,255,0.85); border-radius:20px;
  box-shadow:0 30px 60px rgba(255,105,180,0.25); transform-origin:top center; transform:rotateX(-90deg);
  transition:transform 2s cubic-bezier(.22,1,.36,1); padding:50px; text-align:center; position:relative; overflow:hidden;
  z-index:1; display:flex; flex-direction:column; justify-content:center; align-items:center;
  clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%);
}
.letter.open { animation:letterOpen 2s forwards; }

@keyframes letterOpen {
  0% { transform:rotateX(-90deg) scale(0.8); }
  50% { transform:rotateX(10deg) scale(1.05); }
  100% { transform:rotateX(0deg) scale(1); }
}

.valentine-text {
  font-family:'Playfair Display', serif;
  font-size:28px;
  color:#ff4d88;
  line-height:1.8;
  letter-spacing:1px;   /* reduce from 3px */
  text-align:center;
  max-width:90%;
}

.valentine-text span {
  display:inline-block;
  opacity:0;
  transform:translateY(30px) rotateX(20deg);
  animation:letterFade 0.6s forwards;
}
@keyframes letterFade {
  to {
    opacity:1;
    transform:translateY(0) rotateX(0);
  }
}

/* BUTTONS */
.buttons { margin-top:30px; opacity:0; transition:opacity 1.5s ease 1.5s; }
.buttons.show { opacity:1; }
button { padding:14px 30px; margin:10px; border:none; border-radius:40px; font-size:15px; cursor:pointer; transition:all 0.3s ease; }
.yesBtn { background:#ff69b4; color:white; }
.yesBtn:hover { background:#ff1493; transform:scale(1.05); }
.noBtn { background:#ffb6c1; color:white; position:absolute; transition:all 0.3s ease; cursor:pointer; }

/* FIREWORK CANVAS */
canvas { position:fixed; top:0; left:0; pointer-events:none; z-index:2; }

/* FLOATING ROMANTIC SYMBOLS */
.floatSymbol { position:fixed; font-size:20px; pointer-events:none; opacity:0; transition:all 5s linear; z-index:0; }

/* FINAL OVERLAY */
#finalOverlay { position:fixed; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; overflow:hidden; z-index:9999; }
#finalOverlay video { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:0; }
#finalText { position:relative; z-index:1; font-family:'Playfair Display', serif; font-size:8vw; display:flex; justify-content:center; align-items:center; }
.final-letter { position:relative; display:inline-block; margin:0 4px; background:linear-gradient(90deg, #ff69b4, #ff1493, #ffc0cb, #ff85a2); background-clip:text; -webkit-background-clip:text; color:transparent;
  animation:gradientShift 5s linear infinite, pulse 1.5s ease-in-out infinite, wiggle 1s ease-in-out infinite;
}
.sparkle { position:absolute; width:6px; height:6px; border-radius:50%; background:white; opacity:0.8; animation:twinkle 0.8s ease-in-out infinite alternate; }
@keyframes gradientShift { 0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;} }
@keyframes pulse { 0%,100%{ transform:scale(1);}50%{ transform:scale(1.1);} }
@keyframes wiggle { 0%,100%{ transform:rotate(0deg);}25%{ transform:rotate(2deg);}50%{ transform:rotate(-2deg);}75%{ transform:rotate(2deg);} }
@keyframes twinkle { 0%{opacity:0.2;}100%{opacity:1; transform:scale(1.5);} }

</style>
</head>
<body>

<canvas id="confetti"></canvas>

<!-- VIDEO START -->
<div id="videoSection">
  <button id="startBtn">Tap to Begin</button>
  <video id="introVideo" playsinline>
    <source src="yourvideo.mp4" type="video/mp4">
  </video>
</div>

<!-- LETTER QUESTION -->
<div id="letterSection">
  <div class="letter" id="letter">
    <div class="valentine-text" id="valentineText"></div>
    <div class="buttons" id="buttons">
      <button class="yesBtn" onclick="sayYes()">Yes</button>
      <button class="noBtn" id="noBtn">No</button>
    </div>
  </div>
</div>

<!-- AUDIO -->
<audio id="bgMusic" src="music.mp3" loop></audio>
<audio id="hoverSound" src="hover.mp3"></audio>
<audio id="escapeSound" src="escape.mp3"></audio>
<audio id="yesSound" src="yes.mp3"></audio>
<audio id="fireworkSound" src="firework.mp3"></audio>
<audio id="finalSound" src="final.mp3"></audio>

<script>
const video=document.getElementById("introVideo");
const startBtn=document.getElementById("startBtn");
const videoSection=document.getElementById("videoSection");
const letterSection=document.getElementById("letterSection");
const letter=document.getElementById("letter");
const text=document.getElementById("valentineText");
const buttons=document.getElementById("buttons");
const noBtn=document.getElementById("noBtn");

const bgMusic=document.getElementById("bgMusic");
const hoverSound=document.getElementById("hoverSound");
const escapeSound=document.getElementById("escapeSound");
const yesSound=document.getElementById("yesSound");
const fireworkSound=document.getElementById("fireworkSound");
const finalSound=document.getElementById("finalSound");

/* VIDEO START */
startBtn.onclick=()=>{
  startBtn.style.display="none";
  video.style.display="block";
  video.play();
  bgMusic.volume=0.25; bgMusic.play();
};

/* VIDEO END */
video.onended=()=>{
  videoSection.style.opacity="0";
  setTimeout(()=>{
    videoSection.style.display="none";
    letterSection.classList.add("show");
    setTimeout(()=>{
  letter.classList.add("open");
  animateLetterText("Mir'atun Solehah, Cinta Saya, Dunia Saya, Rumah Saya, Sayang Saya, Will you be my valentines?");
  buttons.classList.add("show");
  createFloatingSymbols();
  startNoButtonMovement();
},800);

  },1500);
};

/* LETTER ANIMATION */
function animateLetterText(str){
  text.innerHTML = "";

  const words = str.split(" ");

  words.forEach((word, wordIndex) => {
    const wordSpan = document.createElement("span");
    wordSpan.style.display = "inline-block";
    wordSpan.style.whiteSpace = "nowrap";

    for(let i = 0; i < word.length; i++){
      const letter = document.createElement("span");
      letter.innerText = word[i];
      letter.style.display = "inline-block";
      letter.style.opacity = "0";
      letter.style.transform = "translateY(30px)";
      letter.style.animation = "letterFade 0.6s forwards";
      letter.style.animationDelay = ((wordIndex * 0.3) + (i * 0.05)) + "s";
      wordSpan.appendChild(letter);
    }

    text.appendChild(wordSpan);

    // Add space after each word
    const space = document.createTextNode(" ");
    text.appendChild(space);
  });
}


/* NO BUTTON CONTINUOUS MOVEMENT */
function startNoButtonMovement(){
  const moveNoButton=()=>{
    const maxX=window.innerWidth-noBtn.offsetWidth-20;
    const maxY=window.innerHeight-noBtn.offsetHeight-20;
    const newX=Math.random()*maxX;
    const newY=Math.random()*maxY;
    noBtn.style.transition="all 0.4s cubic-bezier(.22,1,.36,1)";
    noBtn.style.left=newX+"px";
    noBtn.style.top=newY+"px";
  };
  noBtn.addEventListener("mouseenter",()=>{
    hoverSound.currentTime=0; hoverSound.play();
    escapeSound.currentTime=0; escapeSound.play();
    moveNoButton();
  });
}

/* FIREWORKS */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
resizeCanvas(); window.addEventListener("resize",resizeCanvas);
let particles=[]; let animating=false;
function createFirework(x=null,y=null){
  const fx=x||Math.random()*canvas.width;
  const fy=y||Math.random()*canvas.height/2;
  fireworkSound.currentTime=0; fireworkSound.play();
  fireworkSound.volume = 0.5;
  for(let i=0;i<400;i++){
    particles.push({x:fx,y:fy,speedX:(Math.random()-0.5)*16,speedY:(Math.random()-0.5)*16,gravity:0.2,size:3+Math.random()*5,color:["#ff69b4","#ff1493","#ffc0cb","#ff85a2","#ff4d88"][Math.floor(Math.random()*5)],life:140});
  }
  if(!animating){ animating=true; animateFireworks(); }
}
function animateFireworks(){
  ctx.fillStyle="rgba(255,240,245,0.2)"; ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,index)=>{
    p.x+=p.speedX; p.y+=p.speedY; p.speedY+=p.gravity; p.life--;
    ctx.shadowColor=p.color; ctx.shadowBlur=10; ctx.fillStyle=p.color;
    ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
    if(p.life<=0) particles.splice(index,1);
  });
  if(particles.length>0) requestAnimationFrame(animateFireworks); else animating=false;
}

/* FLOATING SYMBOLS */
function createFloatingSymbols(){
  const themes=["ðŸŒ¹","ðŸ’‹","â¤ï¸","ðŸŒ¸","ðŸ’–"];
  setInterval(()=>{
    const el=document.createElement("div");
    el.classList.add("floatSymbol"); el.innerText=themes[Math.floor(Math.random()*themes.length)];
    el.style.fontSize=(20+Math.random()*40)+"px"; el.style.left=Math.random()*100+"vw";
    el.style.top=Math.random()*100+"vh"; el.style.opacity="1";
    document.body.appendChild(el); animateSymbol(el);
  },150);
}
function animateSymbol(el){
  let posY=parseFloat(el.style.top);
  const speed=0.1+Math.random()*0.7;
  const id=setInterval(()=>{
    posY-=speed; el.style.top=posY+"vh";
    if(posY<-10){ el.remove(); clearInterval(id); }
  },16);
}

/* YES BUTTON */
function sayYes(){
  yesSound.currentTime=0; yesSound.play();
  letter.style.transition="all 1s cubic-bezier(.22,1,.36,1)";
  letter.style.transform="scale(1.3)"; letter.style.opacity="0";

  // Fireworks sequence
  for(let i=0;i<8;i++){ setTimeout(()=>createFirework(Math.random()*canvas.width, Math.random()*canvas.height/2), i*400); }

  setTimeout(()=>{ finalSound.currentTime=0; finalSound.play(); },1000);

  setTimeout(()=>{
    const finalOverlay=document.createElement("div"); finalOverlay.id="finalOverlay";
    const videoEl=document.createElement("video"); videoEl.autoplay=true; videoEl.loop=true; videoEl.muted=true; videoEl.playsInline=true; videoEl.src="romantic-bg.mp4";
    finalOverlay.appendChild(videoEl);

    // Sparkling YEAYYYYY
    const h1=document.createElement("h1"); h1.id="finalText";
    const word="YEAYYYYY (iloveyou)";
    for(let i=0;i<word.length;i++){
      const span=document.createElement("span"); span.classList.add("final-letter"); span.innerText=word[i];
      for(let j=0;j<6;j++){
        const sparkle=document.createElement("div"); sparkle.classList.add("sparkle");
        sparkle.style.top=(Math.random()*120-60)+"%";
        sparkle.style.left=(Math.random()*120-60)+"%";
        span.appendChild(sparkle);
      }
      h1.appendChild(span);
    }
    finalOverlay.appendChild(h1);
    document.body.appendChild(finalOverlay);

    // Camera shake
    let intensity=12; let shakes=0;
    const shakeInterval=setInterval(()=>{
      finalOverlay.style.transform=`translate(${(Math.random()-0.5)*intensity}px, ${(Math.random()-0.5)*intensity}px)`;
      shakes++; if(shakes>15){ clearInterval(shakeInterval); finalOverlay.style.transform="translate(0,0)"; }
    },50);

  },2500);
}
</script>
</body>
</html>
